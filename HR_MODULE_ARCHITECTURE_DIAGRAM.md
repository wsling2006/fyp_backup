# ğŸ—ï¸ HR MODULE - SYSTEM ARCHITECTURE

**Visual overview of the complete HR Employee Management Module**

---

## ğŸ“Š HIGH-LEVEL ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (HR/SUPER_ADMIN)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Browser (HTTPS)
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (Next.js 14)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HR Dashboard (/hr/dashboard)                            â”‚   â”‚
â”‚  â”‚    - Welcome card                                        â”‚   â”‚
â”‚  â”‚    - Employee Management link                            â”‚   â”‚
â”‚  â”‚    - Security notice                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Employee List (/hr/employees)                           â”‚   â”‚
â”‚  â”‚    - Search bar (name/ID)                                â”‚   â”‚
â”‚  â”‚    - Table (minimal data: ID, name, status)              â”‚   â”‚
â”‚  â”‚    - View Profile buttons                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Employee Detail (/hr/employees/[id])                    â”‚   â”‚
â”‚  â”‚    - Personal info card                                  â”‚   â”‚
â”‚  â”‚    - Sensitive info card (locked)                        â”‚   â”‚
â”‚  â”‚    - Employment info card                                â”‚   â”‚
â”‚  â”‚    - Documents section + upload modal                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ API Proxy (/api/*)
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (NestJS)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HR Controller (@Controller('hr'))                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Security Guards:                                  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚    - JwtAuthGuard (JWT validation)                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚    - RolesGuard (HR/SUPER_ADMIN only)              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  Endpoints:                                              â”‚   â”‚
â”‚  â”‚    GET  /hr/employees                  (list)           â”‚   â”‚
â”‚  â”‚    GET  /hr/employees/search?q=...     (search)         â”‚   â”‚
â”‚  â”‚    GET  /hr/employees/:id              (detail)         â”‚   â”‚
â”‚  â”‚    GET  /hr/employees/:id/documents    (list docs)      â”‚   â”‚
â”‚  â”‚    POST /hr/employees/:id/documents    (upload)         â”‚   â”‚
â”‚  â”‚    GET  /hr/employees/:id/documents/:docId/download     â”‚   â”‚
â”‚  â”‚    DELETE /hr/employees/:id/documents/:docId            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HR Service (Business Logic)                            â”‚   â”‚
â”‚  â”‚    - getEmployeeList() â†’ minimal data                   â”‚   â”‚
â”‚  â”‚    - getEmployeeById() â†’ full data                      â”‚   â”‚
â”‚  â”‚    - searchEmployees() â†’ filter                         â”‚   â”‚
â”‚  â”‚    - uploadDocument() â†’ validate + scan                 â”‚   â”‚
â”‚  â”‚    - downloadDocument() â†’ stream                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Security Services                                       â”‚   â”‚
â”‚  â”‚    - ClamAV Service (malware scanning)                   â”‚   â”‚
â”‚  â”‚    - Audit Service (action logging)                      â”‚   â”‚
â”‚  â”‚    - File hash (SHA-256 deduplication)                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ TypeORM
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATABASE (PostgreSQL)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  employees                                               â”‚   â”‚
â”‚  â”‚    - id (UUID, PK)                                       â”‚   â”‚
â”‚  â”‚    - employee_id (VARCHAR, UNIQUE)                       â”‚   â”‚
â”‚  â”‚    - name (VARCHAR)                                      â”‚   â”‚
â”‚  â”‚    - email (VARCHAR, UNIQUE)                             â”‚   â”‚
â”‚  â”‚    - status (ENUM: ACTIVE/INACTIVE/TERMINATED)           â”‚   â”‚
â”‚  â”‚    - ic_number (VARCHAR) âš ï¸ sensitive                    â”‚   â”‚
â”‚  â”‚    - bank_account_number (VARCHAR) âš ï¸ sensitive          â”‚   â”‚
â”‚  â”‚    - birthday (DATE) âš ï¸ sensitive                        â”‚   â”‚
â”‚  â”‚    - phone, address, emergency_contact, etc.             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  employee_documents                                      â”‚   â”‚
â”‚  â”‚    - id (UUID, PK)                                       â”‚   â”‚
â”‚  â”‚    - employee_id (UUID, FK â†’ employees.id)               â”‚   â”‚
â”‚  â”‚    - filename (VARCHAR)                                  â”‚   â”‚
â”‚  â”‚    - mimetype (VARCHAR)                                  â”‚   â”‚
â”‚  â”‚    - size (BIGINT)                                       â”‚   â”‚
â”‚  â”‚    - data (BYTEA) ğŸ”’ secure storage                      â”‚   â”‚
â”‚  â”‚    - file_hash (VARCHAR) SHA-256                         â”‚   â”‚
â”‚  â”‚    - document_type (ENUM)                                â”‚   â”‚
â”‚  â”‚    - uploaded_by_id (UUID, FK â†’ users.id)                â”‚   â”‚
â”‚  â”‚    - created_at (TIMESTAMP)                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  audit_logs                                              â”‚   â”‚
â”‚  â”‚    - id (UUID, PK)                                       â”‚   â”‚
â”‚  â”‚    - user_id (UUID, FK â†’ users.id)                       â”‚   â”‚
â”‚  â”‚    - action (VARCHAR) e.g., HR_VIEW_EMPLOYEE_PROFILE     â”‚   â”‚
â”‚  â”‚    - resource (VARCHAR) e.g., employee                   â”‚   â”‚
â”‚  â”‚    - resource_id (UUID)                                  â”‚   â”‚
â”‚  â”‚    - metadata (JSONB)                                    â”‚   â”‚
â”‚  â”‚    - ip_address (VARCHAR)                                â”‚   â”‚
â”‚  â”‚    - created_at (TIMESTAMP)                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” SECURITY LAYERS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 1: FRONTEND SECURITY                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - Role check on page load (useEffect)                â”‚  â”‚
â”‚  â”‚  - Redirect non-HR users to /dashboard                â”‚  â”‚
â”‚  â”‚  - No sensitive data in browser storage               â”‚  â”‚
â”‚  â”‚  - Minimal data in list view (3 fields only)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 2: API GATEWAY SECURITY                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - JWT Authentication (@UseGuards(JwtAuthGuard))      â”‚  â”‚
â”‚  â”‚  - Role Authorization (@Roles(HR, SUPER_ADMIN))       â”‚  â”‚
â”‚  â”‚  - Request validation (DTO validation)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 3: BUSINESS LOGIC SECURITY                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - Data minimization (select specific fields)         â”‚  â”‚
â”‚  â”‚  - File type validation (PDF, Word, Excel, Images)    â”‚  â”‚
â”‚  â”‚  - File size validation (max 10MB)                    â”‚  â”‚
â”‚  â”‚  - SHA-256 deduplication                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 4: SECURITY SERVICES                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - ClamAV malware scanning (all file uploads)         â”‚  â”‚
â”‚  â”‚  - Audit logging (all sensitive operations)           â”‚  â”‚
â”‚  â”‚  - IP tracking (user IP address logged)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 5: DATABASE SECURITY                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - BYTEA storage (files in database, not filesystem)  â”‚  â”‚
â”‚  â”‚  - Foreign key constraints (referential integrity)    â”‚  â”‚
â”‚  â”‚  - Indexed queries (fast + secure lookups)            â”‚  â”‚
â”‚  â”‚  - CASCADE delete (cleanup on employee deletion)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š DATA FLOW DIAGRAMS

### **1. Employee List View (Minimal Data)**

```
User (HR)
    â”‚
    â”‚ GET /hr/employees
    â”‚
    â–¼
Frontend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Backend
    â”‚                         â”‚
    â”‚                         â”‚ JWT validation
    â”‚                         â”‚ Role check (HR/SUPER_ADMIN)
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     HR Service
    â”‚                         â”‚
    â”‚                         â”‚ SELECT id, employee_id, name, status
    â”‚                         â”‚ FROM employees
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     Database
    â”‚                         â”‚
    â”‚   Response:             â”‚
    â”‚   [                     â”‚
    â”‚     {                   â”‚
    â”‚       id: "uuid",       â”‚
    â”‚       employee_id: "EMP001",
    â”‚       name: "John Doe", â”‚
    â”‚       status: "ACTIVE"  â”‚
    â”‚     }                   â”‚
    â”‚   ]                     â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Display Table
(No sensitive data)
```

### **2. Employee Detail View (Full Data + Audit Log)**

```
User (HR) clicks "View Profile"
    â”‚
    â”‚ GET /hr/employees/:id
    â”‚
    â–¼
Frontend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Backend
    â”‚                         â”‚
    â”‚                         â”‚ JWT validation
    â”‚                         â”‚ Role check
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     HR Service
    â”‚                         â”‚
    â”‚                         â”‚ SELECT * FROM employees WHERE id = :id
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     Database â”€â”€â–º Full employee data
    â”‚                         â”‚
    â”‚                         â”‚ Audit log creation
    â”‚                         â”‚ INSERT INTO audit_logs
    â”‚                         â”‚   (user_id, action, resource_id, ...)
    â”‚                         â”‚ VALUES (..., 'HR_VIEW_EMPLOYEE_PROFILE', ...)
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     Audit Service
    â”‚                         â”‚
    â”‚   Response:             â”‚
    â”‚   {                     â”‚
    â”‚     id, name, email,    â”‚
    â”‚     ic_number âš ï¸,       â”‚
    â”‚     bank_account âš ï¸,    â”‚
    â”‚     ...all fields       â”‚
    â”‚   }                     â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Display Cards
(Personal + Sensitive + Employment)
Show audit warning ğŸ”’
```

### **3. Document Upload Flow**

```
User selects file + type
    â”‚
    â”‚ POST /hr/employees/:id/documents
    â”‚ (multipart/form-data)
    â”‚
    â–¼
Frontend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Backend
    â”‚                         â”‚
    â”‚                         â”‚ JWT + Role check
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     HR Controller
    â”‚                         â”‚
    â”‚                         â”‚ File in memory (multer)
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     HR Service
    â”‚                         â”‚
    â”‚                         â”‚ 1. Validate type & size
    â”‚                         â”‚ 2. Generate SHA-256 hash
    â”‚                         â”‚ 3. Check for duplicates
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     ClamAV Service
    â”‚                         â”‚
    â”‚                         â”‚ Scan file for malware
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     [Clean?] â”€â”€Yesâ”€â”€â–º Store in DB
    â”‚                         â”‚                 â”‚
    â”‚                         â”‚                 â”‚ INSERT INTO employee_documents
    â”‚                         â”‚                 â”‚   (employee_id, filename, data, ...)
    â”‚                         â”‚                 â”‚
    â”‚                         â”‚                 â–¼
    â”‚                         â”‚             Audit Service
    â”‚                         â”‚                 â”‚
    â”‚                         â”‚                 â”‚ Log: HR_UPLOAD_EMPLOYEE_DOCUMENT
    â”‚                         â”‚                 â”‚
    â”‚   Success â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Modal closes
Documents list refreshes
```

### **4. Document Download Flow**

```
User clicks "Download"
    â”‚
    â”‚ GET /hr/employees/:id/documents/:docId/download
    â”‚
    â–¼
Frontend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Backend
    â”‚                         â”‚
    â”‚                         â”‚ JWT + Role check
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     HR Service
    â”‚                         â”‚
    â”‚                         â”‚ SELECT data, filename, mimetype
    â”‚                         â”‚ FROM employee_documents
    â”‚                         â”‚ WHERE id = :docId
    â”‚                         â”‚
    â”‚                         â–¼
    â”‚                     Database â”€â”€â–º Binary data (BYTEA)
    â”‚                         â”‚
    â”‚                         â”‚ Audit log
    â”‚                         â”‚ Log: HR_DOWNLOAD_EMPLOYEE_DOCUMENT
    â”‚                         â”‚
    â”‚   Stream file           â”‚
    â”‚   (responseType: blob)  â”‚
    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Browser download
(filename preserved)
```

---

## ğŸ”„ AUDIT TRAIL FLOW

```
Every Sensitive Operation
    â”‚
    â”œâ”€â–º View employee profile
    â”œâ”€â–º Upload document
    â”œâ”€â–º Download document
    â””â”€â–º Delete document
        â”‚
        â–¼
    Audit Service
        â”‚
        â”‚ Capture metadata:
        â”‚   - user_id
        â”‚   - action (e.g., HR_VIEW_EMPLOYEE_PROFILE)
        â”‚   - resource (e.g., employee)
        â”‚   - resource_id (employee UUID)
        â”‚   - ip_address
        â”‚   - user_agent
        â”‚   - timestamp
        â”‚   - metadata (JSON: filename, type, size, etc.)
        â”‚
        â–¼
    Database (audit_logs table)
        â”‚
        â”‚ INSERT INTO audit_logs (...)
        â”‚ VALUES (...)
        â”‚
        â–¼
    Stored for compliance
    
Query audit logs:
    SELECT * FROM audit_logs 
    WHERE action LIKE 'HR_%' 
    AND created_at >= '2026-01-01'
    ORDER BY created_at DESC;
```

---

## ğŸ¨ UI COMPONENT HIERARCHY

```
HR Module UI
â”‚
â”œâ”€â–º HR Dashboard (/hr/dashboard)
â”‚   â”œâ”€â–º Welcome Header
â”‚   â”‚   â””â”€â–º User email display
â”‚   â”œâ”€â–º Employee Management Card (clickable)
â”‚   â”‚   â””â”€â–º Navigate to /hr/employees
â”‚   â”œâ”€â–º Security Notice Card
â”‚   â””â”€â–º Quick Access Links
â”‚
â”œâ”€â–º Employee List (/hr/employees)
â”‚   â”œâ”€â–º Page Header
â”‚   â”œâ”€â–º Search Bar Component
â”‚   â”‚   â”œâ”€â–º Input field (name/ID search)
â”‚   â”‚   â””â”€â–º Refresh button
â”‚   â”œâ”€â–º Employee Table
â”‚   â”‚   â”œâ”€â–º Table Header (ID, Name, Status, Actions)
â”‚   â”‚   â””â”€â–º Table Rows
â”‚   â”‚       â”œâ”€â–º Employee ID (monospace)
â”‚   â”‚       â”œâ”€â–º Full Name
â”‚   â”‚       â”œâ”€â–º Status Badge (colored)
â”‚   â”‚       â””â”€â–º View Button â†’ Navigate to detail
â”‚   â””â”€â–º Data Privacy Notice Card
â”‚
â””â”€â–º Employee Detail (/hr/employees/[id])
    â”œâ”€â–º Back Button
    â”œâ”€â–º Header (Name + Status)
    â”œâ”€â–º Personal Information Card
    â”‚   â””â”€â–º Grid: name, email, phone, address, emergency, birthday
    â”œâ”€â–º Sensitive Information Card (ğŸ”’ locked)
    â”‚   â”œâ”€â–º Warning banner (audit notice)
    â”‚   â””â”€â–º Grid: IC number, bank account (highlighted)
    â”œâ”€â–º Employment Information Card
    â”‚   â””â”€â–º Grid: position, department, joining date
    â”œâ”€â–º Employee Documents Section
    â”‚   â”œâ”€â–º Section Header
    â”‚   â”œâ”€â–º Upload Button â†’ Open Modal
    â”‚   â””â”€â–º Documents Table
    â”‚       â”œâ”€â–º Type badge
    â”‚       â”œâ”€â–º Filename
    â”‚       â”œâ”€â–º Size (formatted)
    â”‚       â”œâ”€â–º Uploader
    â”‚       â”œâ”€â–º Date
    â”‚       â””â”€â–º Download button
    â”œâ”€â–º Upload Modal (conditional render)
    â”‚   â”œâ”€â–º File Selector
    â”‚   â”œâ”€â–º Document Type Dropdown
    â”‚   â”œâ”€â–º Description Textarea
    â”‚   â”œâ”€â–º Upload Button
    â”‚   â””â”€â–º Cancel Button
    â””â”€â–º Audit Trail Notice Card
```

---

## ğŸ—„ï¸ DATABASE SCHEMA RELATIONSHIPS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   users     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)     â”‚â”€â”€â”€â”
â”‚ email       â”‚   â”‚
â”‚ role        â”‚   â”‚
â”‚ ...         â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                  â”‚
                  â”‚ uploaded_by_id (FK)
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  employees  â”‚   â”‚     â”‚  employee_documents   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)     â”‚â”€â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚ id (PK)               â”‚
â”‚ employee_id â”‚   â”‚     â”‚ employee_id (FK)      â”‚
â”‚ name        â”‚   â”‚     â”‚ filename              â”‚
â”‚ email       â”‚   â”‚     â”‚ mimetype              â”‚
â”‚ status      â”‚   â”‚     â”‚ size                  â”‚
â”‚ ic_number   â”‚   â”‚     â”‚ data (BYTEA) ğŸ”’       â”‚
â”‚ birthday    â”‚   â”‚     â”‚ file_hash (SHA-256)   â”‚
â”‚ bank_accountâ”‚   â”‚     â”‚ document_type         â”‚
â”‚ ...         â”‚   â”‚     â”‚ description           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â–ºâ”‚ uploaded_by_id (FK)   â”‚
                        â”‚ created_at            â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ Foreign Keys:
                                  â”‚   - employee_id â†’ employees.id (CASCADE)
                                  â”‚   - uploaded_by_id â†’ users.id (CASCADE)
                                  â”‚
                                  â”‚ Indexes:
                                  â”‚   - file_hash (duplicate detection)
                                  â”‚   - employee_id (fast lookups)
```

---

## ğŸš€ DEPLOYMENT ARCHITECTURE (EC2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AWS EC2 Instance                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  NGINX (Reverse Proxy)                                   â”‚  â”‚
â”‚  â”‚    - SSL/TLS termination                                 â”‚  â”‚
â”‚  â”‚    - Static file serving (Next.js assets)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                                                 â”‚
â”‚               â”œâ”€â”€â–º :3001 â†’ Next.js Frontend (PM2)              â”‚
â”‚               â”‚      - Server-side rendering                    â”‚
â”‚               â”‚      - API proxy to backend                     â”‚
â”‚               â”‚                                                 â”‚
â”‚               â””â”€â”€â–º :3000 â†’ NestJS Backend (PM2)                â”‚
â”‚                      - REST API                                 â”‚
â”‚                      - JWT authentication                       â”‚
â”‚                      - ClamAV integration                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PostgreSQL Database                                     â”‚  â”‚
â”‚  â”‚    - employees table                                     â”‚  â”‚
â”‚  â”‚    - employee_documents table (BYTEA storage)            â”‚  â”‚
â”‚  â”‚    - audit_logs table                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ClamAV Daemon                                           â”‚  â”‚
â”‚  â”‚    - Real-time malware scanning                          â”‚  â”‚
â”‚  â”‚    - Auto-updated virus definitions                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” MONITORING & LOGGING

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LOGGING STACK                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Frontend Logs                                        â”‚  â”‚
â”‚  â”‚    - Console logs (browser DevTools)                  â”‚  â”‚
â”‚  â”‚    - API errors (axios interceptors)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Backend Logs                                         â”‚  â”‚
â”‚  â”‚    - PM2 logs: pm2 logs fyp-backend                   â”‚  â”‚
â”‚  â”‚    - NestJS logger (INFO, WARN, ERROR)                â”‚  â”‚
â”‚  â”‚    - Request/response logs                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Audit Logs (Database)                                â”‚  â”‚
â”‚  â”‚    - HR_VIEW_EMPLOYEE_PROFILE                         â”‚  â”‚
â”‚  â”‚    - HR_UPLOAD_EMPLOYEE_DOCUMENT                      â”‚  â”‚
â”‚  â”‚    - HR_DOWNLOAD_EMPLOYEE_DOCUMENT                    â”‚  â”‚
â”‚  â”‚    - HR_DELETE_EMPLOYEE_DOCUMENT                      â”‚  â”‚
â”‚  â”‚    - Includes: user_id, timestamp, IP, metadata       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Security Logs                                        â”‚  â”‚
â”‚  â”‚    - ClamAV scan results                              â”‚  â”‚
â”‚  â”‚    - Failed authentication attempts                   â”‚  â”‚
â”‚  â”‚    - Unauthorized access attempts (403)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Architecture Complete! ğŸ—ï¸**

This visual guide shows how all components work together to create a secure, scalable, and production-ready HR Employee Management Module.
